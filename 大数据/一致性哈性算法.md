#### 问题

普通的***余数(取模)hash***（hash(比如用户id)%服务器机器数）算法伸缩灵活性很差，当新增或者下线服务器机器时候，用户id与服务器的映射关系会大量失效。一致性hash则利用***hash环***对其进行了改进。



#### 一致性hash

一个设计良好的分布式哈希方案应该具有良好的单调性，即服务节点的增减不会造成大量哈希重定位。

简单来说，一致性哈希将整个哈希值空间组织成一个虚拟的圆环，如假设某哈希函数H的值空间为0 - 2**32-1（即哈希值是一个32位无符号整形）。

