#### 系统可扩展性

数据数据规模TB到PB的海量数据，单机明显无法存储与处理如此规模的数据，只能依靠大规模集群进行存储和处理。

> 纵向扩展（scale up）：传统系统多采用纵向扩展的方式，既不是增加机器数量，而是通过改善单机硬件资源配置来解决问题。

> 横向扩展（scale out）：目前主流的大数据存储和计算系统采用此种方式，通过增加机器数量获得水平扩展的能力。

> 数据分片：将海量的数据，经过切分分配到各个机器中去，实现系统水平扩展能力，通过 ***数据复制***  实现数据的高可用性。

> 数据路由：在数据分片中，如何找到数据存储的位置

数据分片与数据复制是紧密联系的两个概念，对于海量数据，通过***数据分片***实现系统的水平扩展能力，通过***数据复制***保证数据的高可用性。由于机器可能存在隐患，为了保证数据不丢失，可将数据备份起来，客户端可从多个备份数据中选择物理距离较近的进行读取，增加了读操作的并发性又可以提高单次读的读取效率。

###抽象模型

数据分片和路由模型，可以看成是一个二级映射关系。

第一级映射是key-partion映射，将数据映射到数据分片空间，也就是记录数据在哪个分片，多对一的关系。

第二级映射是partion-machine映射，将数据分片映射到物理机空间，也就是记录数据分片在哪个物理机中，也是多对一的关系。

在做***数据分片***时，根据key-partition映射关系将大数据水平切割成很多的数据分片，然后再按照partition-machine映射关系将数据分片放置到对应的物理机器上。而在***数据路由***时，比如要查找某条记录的值get(key)，首先根据key-partition映射找到对应的数据分片，然后再查找partition-machine关系表，就可以知道具体哪台物理机器存储该条数据，之后即可从相应的物理机读取key对应的value内容。







